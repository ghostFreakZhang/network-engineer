
- [因特网与网络互联技术](#因特网与网络互联技术)
  - [整体介绍](#整体介绍)
  - [网络层](#网络层)
    - [IP地址分类 ⭐⭐⭐](#ip地址分类-)
    - [IP分配与子网划分 ⭐⭐⭐](#ip分配与子网划分-)
    - [无分类编址CIDR ⭐⭐⭐](#无分类编址cidr-)
    - [IP数据报 ⭐⭐⭐](#ip数据报-)
    - [ARP与ICMP协议 ⭐⭐⭐](#arp与icmp协议-)
    - [IPv6协议 ⭐⭐⭐](#ipv6协议-)
  - [传输层](#传输层)
    - [TCP与UDP ⭐⭐⭐](#tcp与udp-)
  - [应用层](#应用层)
    - [域名系统 ⭐⭐⭐](#域名系统-)
    - [文件传输服务 ⭐⭐⭐](#文件传输服务-)
    - [远程登录服务 ⭐⭐](#远程登录服务-)
    - [动态地址分配服务 ⭐⭐⭐](#动态地址分配服务-)
    - [电子邮件服务 ⭐⭐](#电子邮件服务-)

# 因特网与网络互联技术

## 整体介绍

在局域网中已经接触过物理层和数据链路层，该章节会接触到网络层、传输层和应用层。

## 网络层

网络层最主要的功能就是路由的选择，依据IP地址寻址。

**IP协议以及配套协议**

![IP协议以及配套协议](img/inter-ip.png)

### IP地址分类 ⭐⭐⭐

**IP地址表示方式**

![IP地址表示方式](img/inter-ip-1.png)


网络位 + 主机位组成的表示

![IP地址表示方式](img/inter-ip-2.png)

> A类

网络位最高位为0，取值范围为1-126，其中0和127不取，主机可取为2^24-2，全0和全1不取，全0就是表示网络地址，全1为广播地址；

> D类

特殊的组播地址，路由协议用的比较多；

**特殊的IP地址**

![特殊的IP地址](img/inter-ip-3.png)

![特殊的IP地址](img/inter-ip-4.png)

> 单播是点对点

> 组播和广播是点对多点

> 全1的广播地址，路由器不会转发，网络号+主机号全1，也叫直接广播地址，路由器会转发。

### IP分配与子网划分 ⭐⭐⭐

从主机号截取了子网号，出现三级IP地址。

![子网划分](img/inter-subnet.png)

求子网掩码时，网络号取1（子网号也是网络号），主机号取0。

IP地址与子网掩码进行与操作可得到网络号。

![子网划分](img/inter-subnet-1.png)

### 无分类编址CIDR ⭐⭐⭐

主要是网络位相同的划分到网络位，不同的都划分到主机位。

![无分类编址CIDR](img/inter-cidr.png)

![无分类编址CIDR](img/inter-cidr-1.png)


### IP数据报 ⭐⭐⭐

主要关注首部，首部固定部分为20字节，可变部分为0-40字节，因而首部取值范围为20-60字节。

![IP数据报](img/inter-ip-data.png)

- 版本，v4和v6
- 首部长度，占4位，取值为5-15
- 总长度，代表IP数据报总长度
- 标识，分片的标识
- 标志，3位，一个保留，后面有DF和MF，DF代表不允许分片，若分片时DF取0，MF表示还有更多分片，MF=1表示后面还有分片，MF=0表示是最后一个分片。
- 片偏移，该分片在原始报文中所对应的相对位置，分片的时候是只对数据部分分片，片偏移存储时除以8存储。
- 生存时间，数据包在网络中转发寿命，时间到的时候还没到目的地就会被丢弃，现在改为了跳数，为256跳。

### ARP与ICMP协议 ⭐⭐⭐

### IPv6协议 ⭐⭐⭐

## 传输层

### TCP与UDP ⭐⭐⭐

## 应用层

### 域名系统 ⭐⭐⭐

### 文件传输服务 ⭐⭐⭐

### 远程登录服务 ⭐⭐

### 动态地址分配服务 ⭐⭐⭐

### 电子邮件服务 ⭐⭐